spring:
  application:
    name: rapidstay-batch
  profiles:
    active: local  # ê¸°ë³¸ì€ local, ì„œë²„ì—ì„  SPRING_PROFILES_ACTIVE=prod ë¡œ ë®ì–´ì“°ê¸°

# ======================================================
# ğŸ§© Local (ê°œë°œ/í…ŒìŠ¤íŠ¸)
# ======================================================
---
spring:
  config:
    activate:
      on-profile: local

  datasource:
    driver-class-name: org.postgresql.Driver
    url: jdbc:postgresql://dpg-d44bbu3ipnbc73d2n6q0-a.oregon-postgres.render.com:5432/rapidstay_db
    username: redshine75
    password: EKj5HOzXrKDY91Y4a5F4rQzDyyL5QWpR

  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        format_sql: true
    open-in-view: false
    defer-datasource-initialization: true

  batch:
    jdbc:
      initialize-schema: always  # ë¡œì»¬ì—ì„  í•­ìƒ ìŠ¤í‚¤ë§ˆ í™•ì¸
    job:
      enabled: false             # ìˆ˜ë™ ì‹¤í–‰ (API í˜¸ì¶œë¡œ íŠ¸ë¦¬ê±°)

server:
  port: 8082

opentripmap:
  apikey: ""   # í•„ìš” ì‹œ ìˆ˜ë™ ì…ë ¥
nominatim:
  email: "dev@rapidstay.link"

logging:
  level:
    root: INFO
    com.rapidstay: DEBUG

management:
  endpoints:
    web:
      exposure:
        include: health
  endpoint:
    health:
      show-details: never


# ======================================================
# ğŸš€ Prod (Render / ìš´ì˜)
# ======================================================
---
spring:
  config:
    activate:
      on-profile: prod

  datasource:
    driver-class-name: org.postgresql.Driver
    url: jdbc:postgresql://dpg-d44bbu3ipnbc73d2n6q0-a.oregon-postgres.render.com:5432/rapidstay_db
    username: redshine75
    password: EKj5HOzXrKDY91Y4a5F4rQzDyyL5QWpR

  jpa:
    hibernate:
      ddl-auto: none         # ìš´ì˜ì€ ìŠ¤í‚¤ë§ˆ ìë™ ë³€ê²½ ë°©ì§€
    show-sql: false
    properties:
      hibernate:
        format_sql: true
    open-in-view: false
    defer-datasource-initialization: false

  batch:
    jdbc:
      initialize-schema: never  # ìš´ì˜ì€ ìˆ˜ë™ ì´ˆê¸°í™”
    job:
      enabled: true             # ìŠ¤ì¼€ì¤„ ìë™ ì‹¤í–‰

server:
  port: 8082

opentripmap:
  apikey: ${OPENTRIPMAP_API_KEY:}
nominatim:
  email: "prod@rapidstay.link"

logging:
  level:
    root: INFO
    com.rapidstay: INFO

management:
  endpoints:
    web:
      exposure:
        include: health
  endpoint:
    health:
      show-details: never
